# one_lesson

#строим компонент
1. Чтобы испольовать компоненты в других файлах, нужно их заэкспортить:
    ~~~export default NameComponent
2. Для использования компонета в файле нужно заинпортить этот компонент:
    ~~~import NameComponent from './components/NameComponent'
3. Заимпортить реакт (даже если реакт явно не используем внутри файла -> babel превратить код из JSX в обычный JS и там будет: React.createElement{})
    ~~~import React from 'react'
4. Как получить необхдимые данные внутрь компонента?:
    -если компонент = функция(stateless компонент), передаем к ней в аргументы нужные данные(все данные будут приходить в первом аргументе ):
        function Article(props) {
            const {article} = props //деструктуризация
            return(
                <div>
                    <h2>{article.title}</h2>
                </div>
            )
        }

5. Как передавать эту статью в наш компонент? Для этого в компоненте (App) где мы используем наш компонент(Article) импортим объект (import articles from '../fixtures') -> передаем внутрь Article: 
    function App(){
        return(
            <div>
                <h1>App name</h2>
                <Article article={articles}/>
            </div>
        )
    }

## Добавим интерактивность (кнопка)

1. Вешаем а кнопку обработчик: 
    <button onClick={handleClick}></button> //передаем проперти onClick в компонент button дальше реакт сам решает как он будет вешать листнеры

2. Как будем открывать и закрывать текст? Опишем несколько состоний (состояние с открытым текстом и закрытим) -> опишем как компонент выглядит в разных сотояниях -> кнопку используем для перехода из одного состояния в другое

3. Для описания состояния компонента используем другой синтаксис с ES6 классами

4. Для этого заимпортим базовый компонент из рекакта: 
    import React, {Component} from 'react'

5. Перепишем компонент (унаследуем Article от базового компонента, обязательный метод render)
    class Article extends Component{ 
        const {article} = this.props
    }
6. Добавим состоние. Для этого мы можем описать конструктор(в котором зададим начальное состояние, для этого вызовем родительский конструктор super(props)); вызовем начальное состояние в this.state:
    constructor(props){
        super(props)
        this.state = {
            isOpen: true
        }
    }

    ~~~ используя экспериментальный синтаксис можно записать короче:
    
    state = {
        ispen: true
    }

7. Теперь испоьзуем это состояние. Если состояние true покажем section, если нет рендерим пустоту. (в this.state хранится наше состояние)
    const body = this.state.isOpen&&<section>{article.text}</section>

8. Теперь будем менять наше состояние. Для этого есть метот this.setState. Т.к. нам надо работать с контекстом, то привяжем контекст к нашему обработчику либо описав его в конструкторе:
    constructor(props){
        super(props)
        this.state = {
            isOpen: true
        }
        this.handleClick = handleClick.bind(this)
    }

    ~~~ используя экспериментальный синтаксис можно записать так(в setState передаем объект в котором мы задаем новое состояние):

    handleClick = () => {
        console.log('---','clicked')
        this.setState({
            isOpen: !this.state.isOpen
        })
    }
